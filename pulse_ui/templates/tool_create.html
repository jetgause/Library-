{% extends "base.html" %}

{% block title %}Create Tool - PULSE{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto space-y-6">
    <h1 class="text-3xl font-bold">Create New Tool</h1>

    <div class="bg-white dark:bg-slate-800 rounded-lg shadow p-6">
        <form id="create-tool-form" class="space-y-6">
            <div>
                <label class="block text-sm font-medium mb-2">Tool Name *</label>
                <input type="text" name="name" required
                       class="w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700">
            </div>

            <div>
                <label class="block text-sm font-medium mb-2">Category *</label>
                <select name="category" required
                        class="w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700">
                    <option value="">Select category</option>
                    <option value="Data Processing">Data Processing</option>
                    <option value="Machine Learning">Machine Learning</option>
                    <option value="Analytics">Analytics</option>
                    <option value="Monitoring">Monitoring</option>
                </select>
            </div>

            <div>
                <label class="block text-sm font-medium mb-2">Tier *</label>
                <div class="grid grid-cols-3 gap-4">
                    <label class="p-4 border-2 rounded-lg cursor-pointer">
                        <input type="radio" name="tier" value="1" required> Tier 1
                    </label>
                    <label class="p-4 border-2 rounded-lg cursor-pointer">
                        <input type="radio" name="tier" value="2"> Tier 2
                    </label>
                    <label class="p-4 border-2 rounded-lg cursor-pointer">
                        <input type="radio" name="tier" value="3"> Tier 3
                    </label>
                </div>
            </div>

            <button type="submit" class="px-6 py-2 bg-blue-500 text-white rounded-lg">
                Create Tool
            </button>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
    document.getElementById('create-tool-form').addEventListener('submit', async (e) => {
        e.preventDefault();
        const formData = new FormData(e.target);
        const data = Object.fromEntries(formData.entries());
        
        const response = await fetch('/api/tools', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        });
        
        if (response.ok) {
            window.location.href = '/tools';
        }
    });
</script>
{% endblock %}